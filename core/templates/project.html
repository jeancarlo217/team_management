{% load static %}

<!DOCTYPE html>
<html lang="en">

{% include 'base.html' %}

<body>

  {% include 'sidebar.html' %}

  <div class="project-body">
    <h1>Project Management System</h1>

    <button class="new-project-btn">+ New Project</button>

    <!-- Lista de projetos em formato de card -->
     <div class="project-menu">

       <div class="project-list">
         <div class="project-card" onclick="showTasks('Project Alpha')">
           <h2>Project Alpha</h2>
           <p>A brief description of Project Alpha.</p>
         </div>
         <div class="project-card" onclick="showTasks('Project Beta')">
           <h2>Project Beta</h2>
           <p>A brief description of Project Beta.</p>
         </div>
         <div class="project-card" onclick="showTasks('Project Gamma')">
           <h2>Project Gamma</h2>
           <p>A brief description of Project Gamma.</p>
         </div>
       </div>

       <div class="task-table-container" id="task-table-container">
        <h2 id="project-title">Projects</h2>
        <ul class="responsive-table">

          <li class="table-header">
            <div class="col col-1">Nome</div>
            <div class="col col-2">Descrição</div>
            <div class="col col-3">Status</div>
            <div class="col col-4">Prazo</div>
          </li>

        </ul>

        <ul class="table-header task-table-body">
        </ul>

      </div>

     </div>

    <script>
      // Dados de exemplo das tarefas
      const tasksData = {
        'Project Alpha': [
          { name: 'Task A1', description: 'Description of Task A1', status: 'Pending', deadline: '2024-12-01' },
          { name: 'Task A2', description: 'Description of Task A2', status: 'In Progress', deadline: '2024-12-10' }
        ],
        'Project Beta': [
          { name: 'Task B1', description: 'Description of Task B1', status: 'Completed', deadline: '2024-11-15' },
          { name: 'Task B2', description: 'Description of Task B2', status: 'Pending', deadline: '2024-11-20' }
        ],
        'Project Gamma': [
          { name: 'Task C1', description: 'Description of Task C1', status: 'In Progress', deadline: '2024-12-05' },
          { name: 'Task C2', description: 'Description of Task C2', status: 'Pending', deadline: '2024-12-15' }
        ]
      };

      // Função para mostrar as tarefas de um projeto
      function showTasks(projectName) {
        const taskTableContainer = document.getElementById('task-table-container');
        const projectTitle = document.getElementById('project-title');
        const taskTableBody = document.getElementById('task-table-body');

        // Atualiza o título com o nome do projeto
        projectTitle.innerText = `Tasks for ${projectName}`;

        // Limpa as linhas existentes na tabela de tarefas
        taskTableBody.innerHTML = '';

        // Preenche a tabela com as tarefas do projeto selecionado
        const tasks = tasksData[projectName];
        tasks.forEach(task => {
          const row = document.createElement('li');
          row.innerHTML = `
            <div class="col col-1" data-label="Job Id">${task.name}</div>
            <div class="col col-2" data-label="Customer Name">${task.description}</div>
            <div class="col col-3" data-label="Amount">${task.status}</div>
            <div class="col col-4" data-label="Payment Status">${task.deadline}</div>
          `;
          taskTableBody.appendChild(row);
        });

        // Exibe a tabela de tarefas
        taskTableContainer.style.display = 'block';
      }
    </script>

  </div>


</body>
</html>